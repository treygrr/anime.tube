(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{a41b:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{staticClass:"row center justify-center"},[e.searching?i("div",{staticClass:"SearchResultsSpinner column justify-center"},[i("q-spinner-bars",{attrs:{color:"primary",size:"2em"}}),i("div",[e._v("Searching")])],1):e._e(),e.searching?e._e():i("div",[i("video-player",{attrs:{videoUrl:this.videoUrl,episodeData:this.$props.episodeData}}),i("q-btn",{staticClass:"text-primary",attrs:{glossy:"",color:"green-9"},on:{click:function(t){return e.nextEp()}}},[e._v("Next Episode\n    ")])],1)])},a=[],o=i("2b0e"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return this.$props.videoUrl?i("div",{staticClass:"q-pa-md",staticStyle:{width:"100%"}},[i("q-btn",{staticStyle:{width:"100%","max-height":"70px"},on:{click:e.goback}},[e._v("Back to Episodes")]),i("video",{staticClass:"videoPlayer",attrs:{controls:"",autoplay:""}},[i("source",{attrs:{src:this.$props.videoUrl,type:"video/mp4"}}),i("source",{attrs:{src:this.$props.videoUrl,type:"video/ogg"}})])],1):e._e()},r=[],d=(i("b54a"),{name:"VideoPlayer",props:["videoUrl","episodeData"],mounted:function(){this.getToVideoUrl(this.$props.videoUrl)},methods:{goback:function(){this.$router.push({name:"episodes",params:{episodeData:this.$props.episodeData}})},getToVideoUrl:function(e){this.link=e}}}),c=d,p=i("2877"),l=Object(p["a"])(c,n,r,!1,null,null,null),h=l.exports,u=function(e,t,i,s){function a(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,o){function n(e){try{d(s.next(e))}catch(t){o(t)}}function r(e){try{d(s["throw"](e))}catch(t){o(t)}}function d(e){e.done?i(e.value):a(e.value).then(n,r)}d((s=s.apply(e,t||[])).next())}))},m=o["a"].extend({name:"VideoResult",props:["animeName","episode","episodeData"],components:{VideoPlayer:h},mounted(){this.$data.animeNameHere=this.$props.animeName,this.$data.animeEpisodeList=this.$props.episodeData,this.$data.animeCurrentEpisode=this.$props.episode,this.grabSearchData(this.$data.animeNameHere,this.$data.animeCurrentEpisode)},methods:{nextEp(){for(let e=0;e<this.$data.animeEpisodeList.length;e++)if(this.$data.animeEpisodeList[e].title===this.$data.animeCurrentEpisode){const t=e-1;return this.grabSearchData(this.$data.animeNameHere,this.$data.animeEpisodeList[t].title),void(this.$data.animeCurrentEpisode=this.$data.animeEpisodeList[t].title)}},grabSearchData(e,t){return u(this,void 0,void 0,(function*(){return this.searching=!0,console.log("ran"),yield this.$axios.get(`http://157.245.246.238:3001/getvideolink?anime=${e}&episode=${t}`,{headers:{"Access-Control-Allow-Origin":"*"}}).then(e=>{if(404===e.status||200===e.status&&0===e.data.length)return this.$q.notify({color:"negative",position:"top",message:"We searched high and low. We could not find any anime to match your search.",icon:"report_problem"}),void(this.searching=!1);this.$q.notify({color:"positive",position:"top",message:"Loading success",icon:"check"}),this.searching=!1,this.videoUrl=e.data.videoLink,console.log(e.data.videoLink)}).catch(()=>{this.$q.notify({color:"negative",position:"top",message:"Failed to grab video",icon:"report_problem"}),this.searching=!1})}))}},data(){return{animeNameHere:"",animeEpisodeList:"",videoUrl:"",searching:!1,currentEpisodeIndex:0,nextEpisode:!1,previousEpisode:""}}}),v=m,g=Object(p["a"])(v,s,a,!1,null,null,null);t["default"]=g.exports}}]);