(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{1546:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"row items-center justify-evenly"},[e.searching?s("div",{staticClass:"SearchResultsSpinner column items-center"},[s("q-spinner-bars",{attrs:{color:"primary",size:"2em"}}),s("div",[e._v("Searching")])],1):e._e(),s("search-cards",{attrs:{active:"",animeSearchData:e.animeSearchData}})],1)},r=[],n=s("2b0e"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return this.$props.animeSearchData?s("div",{staticClass:"q-pa-xs q-pa-md row justify-evenly q-gutter-md "},e._l(e.filteredResults(this.$props.animeSearchData),(function(t){return s("div",{key:t.name,staticClass:"q-pa-xs SearchCard"},[s("q-card",{staticClass:"my-card"},[s("q-img",{attrs:{src:"https://www.animefreak.tv/meta/anime/"+t.anime_id+"/"+t.seo_name+".jpg"}},[s("div",{staticClass:"absolute-bottom"},[s("div",{staticClass:"text-h6"},[e._v(e._s(t.name))]),"Movie"!=t.episodes[0].episode_name&&"Special"!=t.episodes[0].episode_name?s("div",{staticClass:"text-subtitle2"},[e._v("Latest: "+e._s(t.episodes[0].episode_name))]):e._e()])]),s("q-card-actions",["Movie"===t.episodes[0].episode_name?s("q-btn",{attrs:{glossy:"",color:"light-blue-9",label:"Movie"}}):"Special"===t.episodes[0].episode_name?s("q-btn",{attrs:{glossy:"",color:"red-9"}},[e._v("\r\n          Special\r\n        ")]):s("q-btn",{attrs:{glossy:"",color:"purple-9",label:"Series"}}),s("q-btn",{attrs:{flat:""}},[e._v("\r\n          Rating: "+e._s(t.score)+" / 10\r\n        ")]),t.seo_name?s("q-btn",{staticClass:"text-primary",attrs:{glossy:"",color:"green-9"},on:{click:function(s){return e.setAnimeTitle(t.seo_name)}}},[e._v("watch now\r\n        ")]):e._e()],1)],1)],1)})),0):e._e()},o=[],c=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("9523")),l=s.n(c),p=s("2f62");function h(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?h(Object(s),!0).forEach((function(t){l()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var m={name:"SearchCards",computed:u({},Object(p["b"])(["name"])),props:["animeSearchData"],methods:u(u({},Object(p["c"])(["SET_ANIME_NAME"])),{},{setAnimeTitle:function(e){this.SET_ANIME_NAME(e),""!==this.$route.path&&this.$router.push({name:"episodes",params:{animeTitle:e}})},filteredResults:function(e){var t=e,s=t;return s.filter((function(e){if("Special"!==e.episodes[0].episode_name&&"Movie"!==e.episodes[0].episode_name)return e.episodes[0].episode_name}))}})},d=m,f=s("2877"),g=Object(f["a"])(d,i,o,!1,null,null,null),b=g.exports,v=function(e,t,s,a){function r(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,n){function i(e){try{c(a.next(e))}catch(t){n(t)}}function o(e){try{c(a["throw"](e))}catch(t){n(t)}}function c(e){e.done?s(e.value):r(e.value).then(i,o)}c((a=a.apply(e,t||[])).next())}))},_=n["a"].extend({name:"SearchResults",props:["searchTerm"],watch:{searchTerm:function(e,t){console.log("Prop changed: ",e," | was: ",t),this.grabSearchData(e),""===this.searchTerm&&""!==this.$route.path&&this.$router.push({name:"home"})}},components:{SearchCards:b},mounted(){""!==this.searchTerm&&this.grabSearchData(this.searchTerm)},methods:{setAnimeTitle(e){console.log("we pushed to page"),console.log(e)},grabSearchData(e){return v(this,void 0,void 0,(function*(){if(this.animeSearchData=[],""!==e)return this.searching=!0,yield this.$axios.get("http://157.245.246.238:3000/search?anime="+e,{headers:{"Access-Control-Allow-Origin":"*"}}).then(e=>{if(404===e.status||200===e.status&&0===e.data.length)return this.$q.notify({color:"negative",position:"top",message:"We could not find any anime that matched your search.",icon:"report_problem"}),void(this.searching=!1);this.$q.notify({color:"positive",position:"top",message:"Loading success",icon:"check"}),this.searching=!1,console.log(e),this.animeSearchData=e.data}).catch(e=>{this.$q.notify({color:"negative",position:"top",message:e,icon:"report_problem"}),this.searching=!1})}))}},data(){return{animeTitleProp:"",searching:!1,animeSearchData:[]}}}),y=_,S=Object(f["a"])(y,a,r,!1,null,null,null);t["default"]=S.exports}}]);